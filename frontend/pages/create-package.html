<!DOCTYPE html>
<html lang="bg">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create package</title>
    <script src="../scripts/auth.js" defer></script>
    <script src="../scripts/create-package.js" defer></script>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/form.css">
</head>

<body>
    <nav class="navbar">
        <div class="logo">Speedier</div>
        <ul class="nav-links">
            <li><a href="index.html">Home</a></li>
            <li><a href="employee-packages.html">All packages</a></li>
            <li><a href="#" onclick="logout()">Log out</a></li>
        </ul>
    </nav>

    <div class="container form-container">
        <h2>Register a new package</h2>

        <form id="createPackageForm">
            <div class="form-section">
                <h3>Details about the package</h3>

                <div class="input-group">
                    <label>From (Origin)</label>
                    <input type="text" id="origin" placeholder="Enter sender's address" required>
                </div>

                <div class="input-group">
                    <label>To (Destination)</label>

                    <div style="margin-bottom: 10px; display: flex; gap: 15px;">
                        <label style="font-weight: normal; cursor: pointer;">
                            <input type="radio" name="destinationType" value="address" checked
                                onclick="toggleDestinationInput()">
                            To Address
                        </label>
                        <label style="font-weight: normal; cursor: pointer;">
                            <input type="radio" name="destinationType" value="office"
                                onclick="toggleDestinationInput()">
                            To Office
                        </label>
                    </div> 

                    <input type="text" id="destinationAddressInput" placeholder="Enter recipient's address" required>

                    <select id="destinationOfficeSelect"
                        style="display: none; width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px;">
                        <option value="" disabled selected>Select an Office...</option>
                    </select>

                    <button type="button" id="btnAddOffice" class="btn-secondary" style="display: none; margin-top:5px;"
                        onclick="createNewOffice()">
                        + Create New Office
                    </button>
                </div>
                <div class="input-group">
                    <label>Weight (kg)</label>
                    <input type="number" id="weight" step="0.1" min="0.1" max="200" placeholder="0.00" required>
                </div>

                <button type="button" class="btn-secondary" onclick="checkPrice()">Check delivery price</button>
                <div id="priceDisplay" class="price-box" style="display:none;">
                    Calculated Price: <span id="calculatedPrice">0.00</span> euro
                </div>
            </div>

            <hr>

            <div class="form-section">
                <h3>Participants</h3>

                <div class="input-group">
                    <label>Sender email</label>
                    <input type="email" id="sender" placeholder="client@example.com" required>
                </div>

                <div class="input-group">
                    <label>Recipient email</label>
                    <input type="email" id="recipient" placeholder="receiver@example.com" required>
                </div>

                <div class="input-group">
                    <label>Courier email</label>
                    <input type="email" id="courier" placeholder="courier@example.com" required>
                </div>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn-primary full-width">Register package</button>
            </div>

            <p id="messageBox" class="error-msg"></p>
        </form>
    </div>

</body>

</html>